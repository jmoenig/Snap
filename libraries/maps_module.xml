<blocks app="Snap! 5.0, http://snap.berkeley.edu" version="1"><block-definition s="show $globe" type="command" category="other"><header></header><code></code><translations>de:anzeigen $globe&#xD;ca:mostra $globe&#xD;</translations><inputs></inputs><script><block s="doIf"><block s="reportNot"><block s="reportEquals"><block s="evaluate"><block s="reifyReporter"><autolambda><block s="reportAttributeOf"><l><option>costume name</option></l><block s="reportGet"><l><option>stage</option></l></block></block></autolambda><list></list></block><list></list></block><l>map</l></block></block><script><block s="doRun"><block s="reportJSFunction"><list><l>stage</l><l>costume</l></list><l>stage.worldMap.lastStageCostume = costume;</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block s="reportAskFor"><block s="reportGet"><l><option>stage</option></l></block><block s="reifyReporter"><autolambda><block s="getCostumeIdx"></block></autolambda><list></list></block><list></list></block></list></block></script></block><block s="doRun"><block s="reportJSFunction"><list><l>stage</l></list><l>stage.worldMap.extent = stage.dimensions;&#xD;stage.worldMap.render()</l></block><list><block s="reportGet"><l><option>stage</option></l></block></list></block><block s="doTellTo"><block s="reportGet"><l><option>stage</option></l></block><block s="reifyScript"><script><block s="doSwitchToCostume"><custom-block s="$globe as costume"></custom-block></block></script><list></list></block><list></list></block></script></block-definition><block-definition s="hide $globe" type="command" category="other"><header></header><code></code><translations>de:vertecken $globe&#xD;ca:amaga $globe&#xD;</translations><inputs></inputs><script><block s="doIf"><block s="reportEquals"><block s="evaluate"><block s="reifyReporter"><autolambda><block s="reportAttributeOf"><l><option>costume name</option></l><block s="reportGet"><l><option>stage</option></l></block></block></autolambda><list></list></block><list></list></block><l>map</l></block><script><block s="doTellTo"><block s="reportGet"><l><option>stage</option></l></block><block s="reifyScript"><script><block s="doSwitchToCostume"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l></list><l>return stage.worldMap.lastStageCostume;</l></block><list><block s="reportGet"><l><option>stage</option></l></block></list></block></block></script><list></list></block><list></list></block></script></block></script></block-definition><block-definition s="$globe shown?" type="predicate" category="other"><header></header><code></code><translations>de:$globe angezeigt?&#xD;ca:$globe visible?&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="reportEquals"><block s="evaluate"><block s="reifyReporter"><autolambda><block s="reportAttributeOf"><l><option>costume name</option></l><block s="reportGet"><l><option>stage</option></l></block></block></autolambda><list></list></block><list></list></block><l>map</l></block></block></script></block-definition><block-definition s="set $globe style to %&apos;name&apos;" type="command" category="other"><header></header><code></code><translations>de:setze $globe Stil auf _&#xD;ca:utilitza _ per $globe&#xD;</translations><inputs><input type="%s" readonly="true">Wikimedia<options>OpenStreetMap&#xD;Wikimedia&#xD;Watercolor&#xD;Toner&#xD;Terrain&#xD;Topographic&#xD;Satellite&#xD;Streets&#xD;Shading&#xD;Mapbox (experimental)</options></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>stage</l><l>name</l></list><l>stage.worldMap.setHost(name)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="name"/></list></block><block s="doIf"><custom-block s="$globe shown?"></custom-block><script><custom-block s="show $globe"></custom-block></script></block></script></block-definition><block-definition s="$globe as costume" type="reporter" category="other"><header></header><code></code><translations>de:$globe als Kostüm&#xD;ca:$globe com a vestit&#xD;</translations><inputs></inputs><script><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l></list><l>return !stage.worldMap.loading</l></block><list><block s="reportGet"><l><option>stage</option></l></block></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l></list><l>return new Costume(stage.worldMap.canvas, &apos;map&apos;)</l></block><list><block s="reportGet"><l><option>stage</option></l></block></list></block></block></script></block-definition><block-definition s="$globe zoom" type="reporter" category="other"><header></header><code></code><translations>de:$globe Zoom&#xD;ca:$globe zoom&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l></list><l>return stage.worldMap.zoom;</l></block><list><block s="reportGet"><l><option>stage</option></l></block></list></block></block></script></block-definition><block-definition s="set $globe zoom to %&apos;n&apos;" type="command" category="other"><header></header><code></code><translations>de:setze $globe Zoom auf _&#xD;ca:fixa $globe zoom a _&#xD;</translations><inputs><input type="%n">10</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>stage</l><l>n</l></list><l>stage.worldMap.setZoom(n)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="n"/></list></block><block s="doIf"><custom-block s="$globe shown?"></custom-block><script><custom-block s="show $globe"></custom-block></script></block></script></block-definition><block-definition s="change $globe zoom by %&apos;inc&apos;" type="command" category="other"><header></header><code></code><translations>de:ändere $globe Zoom um _&#xD;ca:augmenta $globe zoom en _&#xD;</translations><inputs><input type="%n">1</input></inputs><script><custom-block s="set $globe zoom to %n"><block s="reportSum"><custom-block s="$globe zoom"></custom-block><block var="inc"/></block></custom-block><block s="doIf"><custom-block s="$globe shown?"></custom-block><script><custom-block s="show $globe"></custom-block></script></block></script></block-definition><block-definition s="$globe longitude of x %&apos;x&apos;" type="reporter" category="other"><header></header><code></code><translations>de:$globe Längengrad von x _&#xD;ca:$globe longitud de x _&#xD;</translations><inputs><input type="%n">0</input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l><l>x</l></list><l>return stage.worldMap.lonFromSnapX(x)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="x"/></list></block></block></script></block-definition><block-definition s="$globe latitude of y %&apos;y&apos;" type="reporter" category="other"><header></header><code></code><translations>de:$globe Breitengrad von y _&#xD;ca:$globe latitud de y _&#xD;</translations><inputs><input type="%n">0</input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l><l>y</l></list><l>return stage.worldMap.latFromSnapY(y)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="y"/></list></block></block></script></block-definition><block-definition s="set $globe to lon: %&apos;lon&apos; lat: %&apos;lat&apos;" type="command" category="other"><header></header><code></code><translations>de:setze $globe auf Länge: _ Breite: _&#xD;ca:fixa $globe a lon: _ lat: _&#xD;</translations><inputs><input type="%n">-122.257852</input><input type="%n">37.872099</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>stage</l><l>lat</l><l>lon</l></list><l>stage.worldMap.setView(lon, lat);</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="lat"/><block var="lon"/></list></block><block s="doIf"><custom-block s="$globe shown?"></custom-block><script><custom-block s="show $globe"></custom-block></script></block></script></block-definition><block-definition s="set $globe to (lon,lat) %&apos;coord&apos;" type="command" category="other"><header></header><code></code><translations>de:setze $globe auf (Länge,Breite) _&#xD;ca:fixa $globe a (lon,lat) _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>stage</l><l>lat</l><l>lon</l></list><l>stage.worldMap.setView(lon, lat);</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block s="reportListItem"><l>2</l><block var="coord"/></block><block s="reportListItem"><l>1</l><block var="coord"/></block></list></block><block s="doIf"><custom-block s="$globe shown?"></custom-block><script><custom-block s="show $globe"></custom-block></script></block></script></block-definition><block-definition s="$globe distance in km to %&apos;target&apos;" type="reporter" category="other"><header></header><code></code><translations>de:$globe Entfernung in km zu _&#xD;ca:$globe distància en km a _&#xD;</translations><inputs><input type="%s" readonly="true"><options>§_objectsMenu</options></input></inputs><script><block s="doDeclareVariables"><list><l>trg</l></list></block><block s="doSetVar"><l>trg</l><block s="reportObject"><block var="target"/></block></block><block s="doIf"><block s="reportNot"><block s="reportAnd"><block s="reportIsA"><block s="reportGet"><l><option>self</option></l></block><l><option>sprite</option></l></block><block s="reportIsA"><block var="trg"/><l><option>sprite</option></l></block></block></block><script><block s="doReport"><l>-1</l></block></script></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l><l>lat1</l><l>lng1</l><l>lat2</l><l>lng2</l></list><l>return stage.worldMap.distanceInKm(lat1, lng1, lat2, lng2)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><custom-block s="$globe latitude of y %n"><block s="yPosition"></block></custom-block><custom-block s="$globe longitude of x %n"><block s="xPosition"></block></custom-block><custom-block s="$globe latitude of y %n"><block s="reportAttributeOf"><l><option>y position</option></l><block var="target"/></block></custom-block><custom-block s="$globe longitude of x %n"><block s="reportAttributeOf"><l><option>x position</option></l><block var="target"/></block></custom-block></list></block></block></script></block-definition><block-definition s="$globe go to current location" type="command" category="other"><header></header><code></code><translations>de:$globe gehe zu aktuellen Standort&#xD;ca:$globe vés a la ubicació actual&#xD;</translations><inputs></inputs><script><custom-block s="set $globe to (lon,lat) %l"><custom-block s="$globe current location (lon,lat)"></custom-block></custom-block><block s="doIf"><custom-block s="$globe shown?"></custom-block><script><custom-block s="show $globe"></custom-block></script></block></script></block-definition><block-definition s="$globe current location (lon,lat)" type="reporter" category="other"><header></header><code></code><translations>de:$globe aktuelle Position (Länge,Breite)&#xD;ca:$globe ubicació actual (lon,lat)&#xD;</translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>test</l></list></block><block s="doSetVar"><l>test</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>var crd = new List(),&#xD;    myself = this,&#xD;    options = {&#xD;      enableHighAccuracy: true,&#xD;      timeout: 5000,&#xD;      maximumAge: 0&#xD;    };&#xD;&#xD;function success(pos) {&#xD;  crd = new List([&#xD;    pos.coords.longitude,&#xD;    pos.coords.latitude&#xD;  ]);&#xD;}&#xD;&#xD;function error(err) {&#xD;  crd = new List([-122.257852, 37.872099]);&#xD;  myself.inform(&apos;Warning:\nGeolocation failed.&apos;);&#xD;}&#xD;&#xD;navigator.geolocation.getCurrentPosition(&#xD;  success,&#xD;  error,&#xD;  options&#xD;);&#xD;&#xD;return function () {return crd; }</l></block><list></list></block></block><block s="doWaitUntil"><block s="reportEquals"><block s="reportListLength"><block s="evaluate"><block var="test"/><list></list></block></block><l>2</l></block></block><block s="doReport"><block s="evaluate"><block var="test"/><list></list></block></block></script></block-definition><block-definition s="$globe current longitude" type="reporter" category="other"><header></header><code></code><translations>de:$globe aktueller Längengrad&#xD;ca:$globe longitud de la ubicació actual&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="reportListItem"><l>1</l><custom-block s="$globe current location (lon,lat)"></custom-block></block></block></script></block-definition><block-definition s="$globe current latitude" type="reporter" category="other"><header></header><code></code><translations>de:$globe aktueller Breitengrad&#xD;ca:$globe latitud de la ubicació actual&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="reportListItem"><l>2</l><custom-block s="$globe current location (lon,lat)"></custom-block></block></block></script></block-definition><block-definition s="x of $globe longitude %&apos;lng&apos;" type="reporter" category="other"><header></header><code></code><translations>de:x von $globe Längengrad _&#xD;ca:x de la $globe longitud _&#xD;</translations><inputs><input type="%n"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l><l>lng</l></list><l>return stage.worldMap.snapXfromLon(lng)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="lng"/></list></block></block></script></block-definition><block-definition s="y of $globe latitude %&apos;lat&apos;" type="reporter" category="other"><header></header><code></code><translations>de:y von $globe Breitengrad _&#xD;ca:y de la $globe latitud _&#xD;</translations><inputs><input type="%n"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>stage</l><l>lat</l></list><l>return stage.worldMap.snapYfromLat(lat)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="lat"/></list></block></block></script></block-definition><block-definition s="change $globe by x: %&apos;x&apos; y: %&apos;y&apos; pixels" type="command" category="other"><header></header><code></code><translations>de:ändere $globe um x: _ y: _ Pixel&#xD;ca:mou $globe en x: _ y: _ píxels&#xD;</translations><inputs><input type="%n">10</input><input type="%n">10</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>stage</l><l>x</l><l>y</l></list><l>stage.worldMap.panBy(x, -y)</l></block><list><block s="reportGet"><l><option>stage</option></l></block><block var="x"/><block var="y"/></list></block><block s="doIf"><custom-block s="$globe shown?"></custom-block><script><custom-block s="show $globe"></custom-block></script></block></script></block-definition></blocks>