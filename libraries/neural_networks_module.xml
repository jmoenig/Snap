<blocks app="Snap! 11-rc6, https://snap.berkeley.edu" version="2"><palette><category name="Neural Networks" color="161,163,0,1"/></palette><block-definition s="plot bars %&apos;data&apos; %&apos;options&apos;" type="command" category="pen"><comment x="0" y="0" w="120" collapsed="false">draw a list of numbers as  vertical lines distributed evenly across the stage.</comment><header></header><code></code><translations>de:male Balken _ _&#xD;ca:dibuixa amb barres _ _&#xD;</translations><inputs><input type="%l"></input><input type="%group%n%b%b" irreplaceable="true" expand="$_fill&#xD;$_centered&#xD;$_clear" max="3">0.8&#xD;0&#xD;1</input></inputs><script><block s="doDeclareVariables"><list><l>slice</l><l>pos</l><l>pen size</l><l>width</l><l>center</l><l>clear</l></list></block><block s="doSetVar"><l>width</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>1</l><block var="options"/></block><l><option>number</option></l></block><block s="reportListItem"><l>1</l><block var="options"/></block><l>0.8</l></block></block><block s="doSetVar"><l>center</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>2</l><block var="options"/></block><l><option>Boolean</option></l></block><block s="reportListItem"><l>2</l><block var="options"/></block><block s="reportBoolean"><l><bool>false</bool></l></block></block></block><block s="doSetVar"><l>clear</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>3</l><block var="options"/></block><l><option>Boolean</option></l></block><block s="reportListItem"><l>3</l><block var="options"/></block><block s="reportBoolean"><l><bool>true</bool></l></block></block></block><block s="doIf"><block var="clear"/><script><block s="clear"></block></script><list></list></block><block s="doSetVar"><l>pos</l><block s="getPosition"></block></block><block s="doSetVar"><l>slice</l><block s="reportQuotient"><block s="reportAttributeOf"><l><option>width</option></l><block s="reportGet"><l><option>stage</option></l></block></block><block s="reportListAttribute"><l><option>length</option></l><block var="data"/></block></block></block><block s="doSetVar"><l>pen size</l><block s="getPenAttribute"><l><option>size</option></l></block></block><block s="setSize"><block s="reportVariadicProduct"><list><block var="slice"/><block var="width"/></list></block></block><block s="setXPosition"><block s="reportVariadicSum"><list><block s="reportAttributeOf"><l><option>left</option></l><block s="reportGet"><l><option>stage</option></l></block></block><block s="reportQuotient"><block var="slice"/><l>2</l></block></list></block></block><block s="doWarp"><script><block s="doForEach"><l>item</l><block var="data"/><script><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="item"/><l>0</l></list></block><script><block s="setYPosition"><block s="reportIfElse"><block var="center"/><block s="reportQuotient"><block var="item"/><l>-2</l></block><block s="reportAttributeOf"><l><option>bottom</option></l><block s="reportGet"><l><option>stage</option></l></block></block></block></block><block s="down"></block><block s="changeYPosition"><block var="item"/></block><block s="up"></block></script><list></list></block><block s="changeXPosition"><block var="slice"/></block></script></block></script></block><block s="doGotoObject"><block var="pos"/></block><block s="setSize"><block var="pen size"/></block></script></block-definition><block-definition s="normalize table %&apos;table&apos;" type="reporter" category="lists"><comment x="0" y="0" w="266" collapsed="false">Report a copy of the given table in which the numerical data of each column is distributed between 0 and 1 using the column&apos;s min and max values (feature scaling).</comment><header></header><code></code><translations>de:normalisiere Tabelle _&#xD;ca:_ normalitzada&#xD;</translations><inputs><input type="%l" initial="1"></input></inputs><script><block s="doReport"><block s="reportMap"><custom-block s="normalization for table %l"><block var="table"/></custom-block><block var="table"/></block></block></script></block-definition><block-definition s="normalization for table %&apos;table&apos;" type="reporter" category="lists"><comment x="0" y="0" w="281" collapsed="false">Report a function (ring) that can be called with a single row (record) in the form of the given data set to normalize it using the sample&apos;s min and max values. Use this reporter to create a normalization function from a training set that can be applied to validation or live data.</comment><header></header><code></code><translations>de:Normalisierung für Tabelle _&#xD;ca:normalització per a la taula _&#xD;</translations><inputs><input type="%l" initial="1"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block s="reportQuotient"><l></l><l></l></block></autolambda><list></list></block><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block s="reportDifference"><l></l><l></l></block></autolambda><list></list></block><l></l><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block s="reportNewList"><list></list></block></autolambda><list></list></block><block s="reportCONS"><block s="reportListAttribute"><l><option>length</option></l><block var="min"/></block><block var="min"/></block></list></block></list></block><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block s="reportNewList"><list></list></block></autolambda><list></list></block><block s="reportCONS"><block s="reportListAttribute"><l><option>length</option></l><block var="min"/></block><block s="reportDifference"><block var="max"/><block var="min"/></block></block></list></block></list></block></autolambda><list><l>min</l><l>max</l></list></block><block s="reportListAttribute"><l><option>columns</option></l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportVariadicMin"><block var="feature"/></block><block s="reportVariadicMax"><block var="feature"/></block></list></block></autolambda><list><l>feature</l></list></block><block s="reportListAttribute"><l><option>columns</option></l><block var="table"/></block></block></block></block></block></script></block-definition><block-definition s="initialize neural networks" type="command" category="Neural Networks" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="_Layer_"/><l><option>list</option></l></block></block><script><block s="doSetVar"><l>_Layer_</l><custom-block s="object %group%t%s"><list><l>inputs</l><l>thing</l><l>weights</l><l>thing</l><l>setup</l><block s="reifyReporter"><script><block s="doSetVar"><l>weights</l><block s="reportRandom"><l>-1.0</l><block s="reportReshape"><l>1</l><list><block var="out"/><block s="reportVariadicSum"><list><block var="in"/><l>1</l></list></block></list></block></block></block><block s="doReport"><block s="reportEnvironment"><l><option>object</option></l></block></block></script><list><l>in</l><l>out</l></list></block><l>solve</l><block s="reifyReporter"><script><block s="doSetVar"><l>inputs</l><block var="sample"/></block><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportMonadic"><l><option>sigmoid</option></l><block s="reportVariadicSum"><block s="reportVariadicProduct"><list><block s="reportCONS"><l>1</l><block var="inputs"/></block><l></l></list></block></block></block></autolambda><list></list></block><block var="weights"/></block></block></script><list><l>sample</l></list></block><l>learn</l><block s="reifyReporter"><script><block s="doSetVar"><l>delta</l><block var="error"/></block><block s="doReport"><block s="reportVariadicSum"><block s="reportVariadicProduct"><list><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportVariadicProduct"><list><block var="inputs"/><block s="reportDifference"><l>1</l><block var="inputs"/></block><l></l></list></block></autolambda><list></list></block><block var="error"/></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportCDR"><l/></block></autolambda><list></list></block><block var="weights"/></block></list></block></block></block></script><list><l>error</l></list></block><l>reshuffle</l><block s="reifyReporter"><script><block s="doChangeVar"><l>weights</l><block s="reportMonadic"><l><option>neg</option></l><block var="weights"/></block></block><block s="doChangeVar"><l>weights</l><block s="reportRandom"><l>-1.0</l><block s="reportReshape"><l>1</l><block s="reportListAttribute"><l><option>dimensions</option></l><block var="weights"/></block></block></block></block></script><list></list></block><l>delta</l><l>thing</l><l>adjust weights</l><block s="reifyReporter"><script><block s="doChangeVar"><l>weights</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportVariadicProduct"><list><block s="reportCONS"><l>1</l><block var="inputs"/></block><block var="learning rate"/><l></l></list></block></autolambda><list></list></block><block var="delta"/></block></block></script><list></list></block><l>learning rate</l><l>0.1</l></list></custom-block></block></script><list></list></block><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="_Neural Network_"/><l><option>list</option></l></block></block><script><block s="doSetVar"><l>_Neural Network_</l><custom-block s="object %group%t%s"><list><l>layers</l><l>thing</l><l>get learning rate</l><block s="reifyReporter"><autolambda><block s="reportListItem"><l>learning rate</l><block s="reportListItem"><l>1</l><block var="layers"/></block></block></autolambda><list></list></block><l>setup</l><block s="reifyReporter"><script><block s="doSetVar"><l>layers</l><block s="reportNewList"><list></list></block></block><block s="doFor"><l>i</l><l>1</l><block s="reportDifference"><block s="reportListAttribute"><l><option>length</option></l><block var="topology"/></block><l>1</l></block><script><block s="doAddToList"><block s="evaluate"><block s="reportListItem"><l>setup</l><custom-block s="clone %l %group%upvar%s"><block var="_Layer_"/><list></list></custom-block></block><block s="reportListItem"><block s="reportNewList"><list><block var="i"/><block s="reportVariadicSum"><list><block var="i"/><l>1</l></list></block></list></block><block var="topology"/></block></block><block var="layers"/></block></script></block><block s="doReport"><block s="reportEnvironment"><l><option>object</option></l></block></block></script><list><l>topology</l></list></block><l>set learning rate</l><block s="reifyReporter"><script><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="alpha"/><l>01</l></list></block><script><block s="doForEach"><l>layer</l><block var="layers"/><script><block s="doReplaceInList"><l>learning rate</l><block var="layer"/><block var="alpha"/></block></script></block></script><list></list></block></script><list><l>alpha</l></list></block><l>predict</l><block s="reifyReporter"><script><block s="doDeclareVariables"><list><l>outputs</l></list></block><block s="doSetVar"><l>outputs</l><block var="sample"/></block><block s="doFor"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="layers"/></block><script><block s="doSetVar"><l>outputs</l><block s="evaluate"><block s="reportListItem"><l>solve</l><block s="reportListItem"><block var="i"/><block var="layers"/></block></block><list><block var="outputs"/></list></block></block></script></block><block s="doReport"><block var="outputs"/></block></script><list><l>sample</l></list></block><l>classify</l><block s="reifyReporter"><autolambda><block s="reportRound"><block s="evaluate"><block var="predict"/><list><block var="sample"/></list></block></block></autolambda><list><l>sample</l></list></block><l>fit</l><block s="reifyReporter"><script><block s="doDeclareVariables"><list><l>error</l><l>delta</l></list></block><block s="doSetVar"><l>error</l><block s="reportDifference"><block s="reportListItem"><l><option>last</option></l><block var="sample"/></block><block s="evaluate"><block var="predict"/><list><block var="sample"/></list></block></block></block><block s="doSetVar"><l>delta</l><block var="error"/></block><block s="doFor"><l>i</l><block s="reportListAttribute"><l><option>length</option></l><block var="layers"/></block><l>1</l><script><block s="doSetVar"><l>delta</l><block s="evaluate"><block s="reportListItem"><l>learn</l><block s="reportListItem"><block var="i"/><block var="layers"/></block></block><list><block var="delta"/></list></block></block></script></block><block s="doForEach"><l>layer</l><block var="layers"/><script><block s="doRun"><block s="reportListItem"><l>adjust weights</l><block var="layer"/></block><list></list></block></script></block><block s="doReport"><block s="reportVariadicSum"><block s="reportMonadic"><l><option>abs</option></l><block var="error"/></block></block></block></script><list><l>sample</l></list></block><l>train</l><block s="reifyReporter"><script><block s="doDeclareVariables"><list><l>errors</l></list></block><block s="doForEach"><l>sample</l><block s="reportListAttribute"><l><option>shuffled</option></l><block var="set"/></block><script><block s="doChangeVar"><l>errors</l><block s="evaluate"><block var="fit"/><list><block var="sample"/></list></block></block></script></block><block s="doReport"><block var="errors"/></block></script><list><l>set</l></list></block><l>validate</l><block s="reifyReporter"><script><block s="doDeclareVariables"><list><l>hits</l><l>target</l></list></block><block s="doForEach"><l>sample</l><block var="set"/><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportVariadicSum"><block s="evaluate"><block var="classify"/><list><block var="sample"/></list></block></block><block s="reportListItem"><l><option>last</option></l><block var="sample"/></block></list></block><script><block s="doChangeVar"><l>hits</l><l>1</l></block></script><list></list></block></script></block><block s="doReport"><block s="reportQuotient"><block var="hits"/><block s="reportListAttribute"><l><option>length</option></l><block var="set"/></block></block></block></script><list><l>set</l></list></block><l>get model</l><block s="reifyReporter"><autolambda><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>weights</l><l/></block></autolambda><list></list></block><block var="layers"/></block></autolambda><list></list></block><l>set model</l><block s="reifyReporter"><script><block s="doDeclareVariables"><list><l>layer</l></list></block><block s="doSetVar"><l>layers</l><block s="reportNewList"><list></list></block></block><block s="doForEach"><l>vector</l><block var="model"/><script><block s="doSetVar"><l>layer</l><custom-block s="clone %l %group%upvar%s"><block var="_Layer_"/><list></list></custom-block></block><block s="doReplaceInList"><l>weights</l><block var="layer"/><block var="vector"/></block><block s="doAddToList"><block var="layer"/><block var="layers"/></block></script></block></script><list><l>model</l></list></block><l>shuffle</l><block s="reifyReporter"><script><block s="doForEach"><l>layer</l><block var="layers"/><script><block s="doRun"><block s="reportListItem"><l>reshuffle</l><block var="layer"/></block><list></list></block></script></block></script><list></list></block><l>get topology</l><block s="reifyReporter"><autolambda><block s="reportCONS"><block s="reportDifference"><block s="reportListItem"><l>2</l><block s="reportListAttribute"><l><option>dimensions</option></l><block s="reportListItem"><l>weights</l><block s="reportListItem"><l>1</l><block var="layers"/></block></block></block></block><l>1</l></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><block s="reportListAttribute"><l><option>dimensions</option></l><block s="reportListItem"><l>weights</l><l/></block></block></block></autolambda><list></list></block><block var="layers"/></block></block></autolambda><list></list></block></list></custom-block></block></script><list></list></block></script></block-definition><block-definition s="generate predicate for %&apos;tag&apos; in %&apos;data&apos; %&apos;options&apos;" type="command" category="Neural Networks"><comment w="219.322149658203" collapsed="false">Generate a new predicate block in the sensing category that reports whether a given sample data record classifies as the given tag (name) based on an example dataset in the form of a binary truth table. The generated predicate block offers its estimated accuracy in its help screen / comment and can then be exported and shared.&#xD;&#xD;By default training happens all automatically using a neural network with one hidden layer, observing the learning progress and partioning the dataset internally into a training set and validation set. Optionally you can specify an exact number of epochs (0 = automatic), a partitioning fraction (0 = automatic, 1 = none), and none to 8 hidden layers with arbitrary neurons (0 = no hidden layers).&#xD;&#xD;You can abort / shorten the training process manually by positioining the mouse pointer near the stage center and pressing the mouse button down.&#xD;&#xD;Running the command again updates any previously generated block, i.e. you can optimize existing blocks by re-training them with different parameters.</comment><header></header><code></code><translations>de:generiere Prädikat für _ in _ _&#xD;</translations><inputs><input type="%s" initial="1">$_tag</input><input type="%l" initial="1"></input><input type="%mult%n" irreplaceable="true" expand="$_epochs&#xD;$_partition&#xD;$_hidden layers&#xD;:&#xD;:&#xD;:&#xD;:&#xD;:&#xD;:&#xD;:&#xD;" max="10">0&#xD;0.8&#xD;5</input></inputs><script><block s="doDeclareVariables"><list><l>init</l><l>norm</l><l>sample</l><l>var name</l><l>var getter</l><l>ai</l><l>label</l><l>old</l><l>def</l><l>comment</l></list></block><block s="doSetVar"><l>var name</l><block s="reportJoinWords"><list><l>_AI: </l><block var="tag"/></list></block></block><block s="doSetVar"><l>var getter</l><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block var="a"/></autolambda><list></list></block><block var="var name"/></list></block></block><block s="doSetVar"><l>ai</l><custom-block s="classifier for %l %mult%n"><custom-block s="normalize table %l"><block var="data"/></custom-block><block var="options"/></custom-block></block><block s="doApplyExtension"><l>var_declare(scope, name)</l><list><l>global</l><block var="var name"/></list></block><block s="doRun"><block s="reifyScript"><script><block s="doSetVar"><l></l><l></l></block></script><list></list></block><list><block var="var name"/><block s="reportListItem"><l>1</l><block var="ai"/></block></list></block><block s="doSetVar"><l>init</l><block s="reportTextSplit"><block s="reifyScript"><script><block s="doIf"><block s="reportNot"><block s="reportIsA"><l></l><l><option>list</option></l></block></block><script><block s="doSetVar"><l></l><custom-block s="new neural network %mult%n"><list><l>0</l><l>0</l></list></custom-block></block><custom-block s="%s of network %s to %n"><l><option>set model</option></l><l></l><l></l></custom-block></script><list></list></block></script><list><l>sample</l></list></block><l><option>blocks</option></l></block></block><block s="doReplaceInList"><l>2</l><block s="reportListItem"><l>2</l><block s="reportListItem"><l>2</l><block var="init"/></block></block><block var="var getter"/></block><block s="doReplaceInList"><l>2</l><block s="reportListItem"><l>1</l><block s="reportListItem"><l>3</l><block var="init"/></block></block><block var="var name"/></block><block s="doReplaceInList"><l>3</l><block s="reportListItem"><l>2</l><block s="reportListItem"><l>3</l><block var="init"/></block></block><block var="var getter"/></block><block s="doReplaceInList"><l>4</l><block s="reportListItem"><l>2</l><block s="reportListItem"><l>3</l><block var="init"/></block></block><custom-block s="blockify %l"><custom-block s="%s of network %s"><l><option>get model</option></l><block s="reportListItem"><l>1</l><block var="ai"/></block></custom-block></custom-block></block><block s="doSetVar"><l>norm</l><block s="reportTextSplit"><custom-block s="normalization for table %l"><block var="data"/></custom-block><l><option>blocks</option></l></block></block><block s="doReplaceInList"><l>2</l><block s="reportListItem"><l>2</l><block var="norm"/></block><block s="reifyReporter"><autolambda><block var="sample"/></autolambda><list></list></block></block><block s="doSetVar"><l>label</l><block s="reportJoinWords"><list><block s="reportApplyExtension"><l>ide_translate(text)</l><list><l>is _</l></list></block><l> </l><block var="tag"/><l>?</l></list></block></block><block s="doSetVar"><l>def</l><block s="reportJoinWords"><list><block var="init"/><block s="reportNewList"><list><block s="reportJoinWords"><list><block s="reifyScript"><script><block s="doReport"><l></l></block></script><list></list></block><block s="reportJoinWords"><list><block s="reifyPredicate"><autolambda><block s="reportVariadicEquals"><list><l></l><l></l></list></block></autolambda><list></list></block><l>1</l><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block s="reportVariadicSum"><list></list></block></autolambda><list></list></block><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><custom-block s="classify %l with network %s"><l/><l></l></custom-block></autolambda><list></list></block><block s="reportJoinWords"><block var="norm"/></block><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block var="a"/></autolambda><list></list></block><block var="var name"/></list></block></list></block><l></l></list></block></list></block></list></block></list></block></list></block></block><block s="doSetVar"><l>comment</l><block s="reportJoinWords"><list><l>predict whether the data sample classifies as </l><block var="tag"/><l>, estimated accuracy: </l><block s="reportVariadicMin"><list><block s="reportQuotient"><block s="reportRound"><block s="reportVariadicProduct"><list><block s="reportListItem"><l>2</l><block var="ai"/></block><l>1000</l></list></block></block><l>10</l></block><l>99.9</l></list></block><l>%.</l></list></block></block><block s="doSetVar"><l>old</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportVariadicAnd"><list><block s="reportBlockAttribute"><l><option>custom?</option></l><block s="reifyReporter"><script></script><list></list></block></block><block s="reportVariadicEquals"><list><block s="reportBlockAttribute"><l><option>type</option></l><block s="reifyReporter"><script></script><list></list></block></block><l>3</l></list></block><block s="reportVariadicEquals"><list><block s="reportBlockAttribute"><l><option>label</option></l><block s="reifyReporter"><script></script><list></list></block></block><block var="label"/></list></block></list></block></autolambda><list></list></block><block s="reportGet"><l><option>blocks</option></l></block></block></block><block s="doIfElse"><block s="reportIsA"><block var="old"/><l><option>predicate</option></l></block><script><block s="doSetBlockAttribute"><l><option>definition</option></l><block var="old"/><block var="def"/></block><block s="doSetBlockAttribute"><l><option>comment</option></l><block var="old"/><block var="comment"/></block></script><script><block s="doDefineBlock"><l>block</l><block var="label"/><block var="def"/></block><block s="doSetBlockAttribute"><l><option>category</option></l><block var="block"/><l>6</l></block><block s="doSetBlockAttribute"><l><option>type</option></l><block var="block"/><l>predicate</l></block><block s="doSetBlockAttribute"><l><option>slots</option></l><block var="block"/><l>list</l></block><block s="doSetBlockAttribute"><l><option>comment</option></l><block var="block"/><block var="comment"/></block></script></block></script></block-definition><block-definition s="new neural network %&apos;configuration&apos;" type="reporter" category="Neural Networks" space="true"><comment x="0" y="0" w="214" collapsed="false">Create and report a new neural network with the specified topology representing the number of inputs, arbitrary hidden layers, and output(s).</comment><header></header><code></code><translations>de:neues neuronales Netzwerk _&#xD;ca:nova xarxa neuronal _&#xD;</translations><inputs><input type="%mult%n" initial="2" min="2">5&#xD;1</input></inputs><script><custom-block s="initialize neural networks"></custom-block><block s="doReport"><block s="evaluate"><block s="reportListItem"><l>setup</l><custom-block s="clone %l %group%upvar%s"><block var="_Neural Network_"/><list></list></custom-block></block><list><block var="configuration"/></list></block></block></script></block-definition><block-definition s="classify %&apos;sample&apos; with network %&apos;network&apos;" type="reporter" category="Neural Networks"><comment x="0" y="0" w="209" collapsed="false">Predict and report the classification of a given data sample - a list of numbers representing a single record in a dataset - using the specified neural network instance. The result is a list of numbers representing the neural network&apos;s output layer.</comment><header></header><code></code><translations>de:klassifiziere _ mit Netzwerk _&#xD;ca:classifica _ amb la xarxa _&#xD;</translations><inputs><input type="%l" readonly="true" initial="1"></input><input type="%s" readonly="true" initial="1"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportListItem"><l>classify</l><block var="network"/></block><list><block var="sample"/></list></block></block></script></block-definition><block-definition s="%&apos;selector&apos; network %&apos;network&apos; on %&apos;dataset&apos;" type="reporter" category="Neural Networks"><comment x="0" y="0" w="239" collapsed="false">Train a single epoch or validate a neural model on a truth-table dataset (a list of number-vectors with the expected classification in the last column).&#xD;&#xD;For &quot;train&quot; this reports the accumulated activation error over the epoch.&#xD;&#xD;For &quot;validate&quot; this reports the overall classification accuracy of the dataset.</comment><header></header><code></code><translations>de:_ Netzwerk _ mit _&#xD;ca:_ xarxa _ amb _&#xD;</translations><inputs><input type="%s" readonly="true" irreplaceable="true" initial="1">$_train<options>train=$_train&#xD;validate=$_validate</options></input><input type="%s" readonly="true" initial="1"></input><input type="%l" initial="1"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportListItem"><block var="selector"/><block var="network"/></block><list><block s="reportListAttribute"><l><option>shuffled</option></l><block var="dataset"/></block></list></block></block></script></block-definition><block-definition s="%&apos;selector&apos; of network %&apos;network&apos;" type="reporter" category="Neural Networks" space="true"><comment x="0" y="0" w="182" collapsed="false">Query the model or the learning rate of a given neural network.&#xD;&#xD;For &quot;model&quot; this reports a list of weight-matrices representing the neural network&apos;s hidden and output layers. Models can be exported and shared among projects.&#xD;&#xD;For &quot;learning rate&quot; this reports a single number representing the neural network&apos;s eagerness to adjust its weights when learning.</comment><header></header><code></code><translations>de:_ von Netzwerk _&#xD;ca:_ de la xarxa _&#xD;</translations><inputs><input type="%s" readonly="true" irreplaceable="true" initial="1">$_get model<options>get model=$_get model&#xD;get learning rate=$_get learning rate&#xD;get topology=$_get topology</options></input><input type="%s" readonly="true" initial="1"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportListItem"><block var="selector"/><block var="network"/></block><list></list></block></block></script></block-definition><block-definition s="render neural model %&apos;model&apos; %&apos;options&apos;" type="command" category="pen"><comment x="0" y="0" w="216" collapsed="false">Draw a picture of the specified model of a neural network where each layer is represented as a vertical line of dots and each weight as a line between 2 neuron-dots. The line width represents the weight&apos;s absolute value, negative values can be rendered in another color.</comment><header></header><code></code><translations>de:male neurales Modell _ _&#xD;ca:renderitza el model neuronal _ _&#xD;</translations><inputs><input type="%l" initial="1"></input><input type="%group%n%b%clr" irreplaceable="true" expand="$_scale&#xD;$_clear&#xD;$_minus&#xD;" max="3">1&#xD;1&#xD;rgba(214,49,0,255)</input></inputs><script><block s="doDeclareVariables"><list><l>topology</l><l>x-spacing</l><l>y-spacings</l><l>x</l><l>y</l><l>weights</l><l>w</l><l>dot</l><l>clr</l><l>factor</l><l>negative</l><l>clear</l><l>pos</l></list></block><block s="doSetVar"><l>pos</l><block s="getPosition"></block></block><block s="doSetVar"><l>clr</l><block s="getPenAttribute"><l><option>color</option></l></block></block><block s="doSetVar"><l>factor</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>1</l><block var="options"/></block><l><option>number</option></l></block><block s="reportListItem"><l>1</l><block var="options"/></block><l>1</l></block></block><block s="doSetVar"><l>clear</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>2</l><block var="options"/></block><l><option>Boolean</option></l></block><block s="reportListItem"><l>2</l><block var="options"/></block><block s="reportBoolean"><l><bool>true</bool></l></block></block></block><block s="doSetVar"><l>negative</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>3</l><block var="options"/></block><l><option>color</option></l></block><block s="reportListItem"><l>3</l><block var="options"/></block><block var="clr"/></block></block><block s="doSetVar"><l>topology</l><block s="reportConcatenatedLists"><list><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListAttribute"><l><option>length</option></l><block s="reportListAttribute"><l><option>columns</option></l><l/></block></block></autolambda><list></list></block><block var="model"/></block><block s="reportNewList"><list><block s="reportListAttribute"><l><option>length</option></l><block s="reportListItem"><l><option>last</option></l><block var="model"/></block></block></list></block></list></block></block><block s="doSetVar"><l>x-spacing</l><block s="reportQuotient"><block s="reportAttributeOf"><l><option>width</option></l><block s="reportGet"><l><option>stage</option></l></block></block><block s="reportVariadicSum"><list><block s="reportListAttribute"><l><option>length</option></l><block var="topology"/></block><l>1</l></list></block></block></block><block s="doSetVar"><l>x</l><block s="reportAttributeOf"><l><option>left</option></l><block s="reportGet"><l><option>stage</option></l></block></block></block><block s="doSetVar"><l>y-spacings</l><block s="reportQuotient"><block s="reportAttributeOf"><l><option>height</option></l><block s="reportGet"><l><option>stage</option></l></block></block><block s="reportVariadicSum"><list><block var="topology"/><l>1</l></list></block></block></block><block s="doSetVar"><l>dot</l><block s="reportVariadicProduct"><list><block s="reportVariadicMin"><list><block s="reportVariadicMin"><block var="y-spacings"/></block><block var="x-spacing"/></list></block><l>0.5</l></list></block></block><block s="doIf"><block var="clear"/><script><block s="clear"></block></script><list></list></block><block s="doWarp"><script><block s="doFor"><l>i</l><l>1</l><block s="reportDifference"><block s="reportListAttribute"><l><option>length</option></l><block var="topology"/></block><l>1</l></block><script><block s="doChangeVar"><l>x</l><block var="x-spacing"/></block><block s="doSetVar"><l>y</l><block s="reportAttributeOf"><l><option>bottom</option></l><block s="reportGet"><l><option>stage</option></l></block></block></block><block s="doSetVar"><l>weights</l><block s="reportListItem"><block var="i"/><block var="model"/></block></block><block s="doFor"><l>k</l><l>1</l><block s="reportListItem"><block var="i"/><block var="topology"/></block><script><block s="doChangeVar"><l>y</l><block s="reportListItem"><block var="i"/><block var="y-spacings"/></block></block><block s="doFor"><l>m</l><l>1</l><block s="reportDifference"><block s="reportListItem"><block s="reportVariadicSum"><list><block var="i"/><l>1</l></list></block><block var="topology"/></block><block s="reportIfElse"><block s="reportVariadicLessThan"><list><block var="i"/><block s="reportDifference"><block s="reportListAttribute"><l><option>length</option></l><block var="topology"/></block><l>1</l></block></list></block><l>1</l><l>0</l></block></block><script><block s="gotoXY"><block var="x"/><block var="y"/></block><block s="down"></block><block s="doSetVar"><l>w</l><block s="reportListItem"><block var="k"/><block s="reportListItem"><block var="m"/><block var="weights"/></block></block></block><block s="doIf"><block s="reportVariadicLessThan"><list><block var="w"/><l>0</l></list></block><script><block s="setColor"><block var="negative"/></block></script><list></list></block><block s="setSize"><block s="reportVariadicProduct"><list><block s="reportMonadic"><l><option>abs</option></l><block var="w"/></block><block var="factor"/></list></block></block><block s="gotoXY"><block s="reportVariadicSum"><list><block var="x"/><block var="x-spacing"/></list></block><block s="reportVariadicSum"><list><block s="reportAttributeOf"><l><option>bottom</option></l><block s="reportGet"><l><option>stage</option></l></block></block><block s="reportVariadicProduct"><list><block var="m"/><block s="reportListItem"><block s="reportVariadicSum"><list><block var="i"/><l>1</l></list></block><block var="y-spacings"/></block></list></block></list></block></block><block s="setColor"><block var="clr"/></block><block s="setSize"><block var="dot"/></block><block s="forward"><l>0</l></block><block s="up"></block><block s="gotoXY"><block var="x"/><block var="y"/></block><block s="setSize"><block var="dot"/></block><block s="down"></block><block s="forward"><l>0</l></block><block s="up"></block></script></block></script></block></script></block></script></block><block s="doGotoObject"><block var="pos"/></block></script></block-definition><block-definition s="partition %&apos;data&apos; by %&apos;factor&apos;" type="reporter" category="lists" space="true"><comment x="0" y="0" w="243.9999999999999" collapsed="false">Split a list into 2 sets by randomly assigning its elements to each partition at the given ratio, reports a 2-item list containing the shuffled and split data. Use this block to create training and validation data sets.</comment><header></header><code></code><translations>de:teile _ im Verhältnis _&#xD;ca:partició de _ per _&#xD;</translations><inputs><input type="%l" initial="1"></input><input type="%n" initial="1">0.8</input></inputs><script><block s="doDeclareVariables"><list><l>pivot</l><l>shuffled</l></list></block><block s="doSetVar"><l>pivot</l><block s="reportMonadic"><l><option>ceiling</option></l><block s="reportVariadicProduct"><list><block s="reportListAttribute"><l><option>length</option></l><block var="data"/></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="factor"/><l>0</l></list></block><l>0.8</l><block var="factor"/></block></list></block></block></block><block s="doSetVar"><l>shuffled</l><block s="reportListAttribute"><l><option>shuffled</option></l><block var="data"/></block></block><block s="doReport"><block s="reportNewList"><list><block s="reportListItem"><block s="reportNumbers"><l>1</l><block var="pivot"/></block><block var="shuffled"/></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="pivot"/><block s="reportListAttribute"><l><option>length</option></l><block var="data"/></block></list></block><block s="reportNewList"><list></list></block><block s="reportListItem"><block s="reportNumbers"><block s="reportVariadicSum"><list><block var="pivot"/><l>1</l></list></block><block s="reportListAttribute"><l><option>length</option></l><block var="data"/></block></block><block var="shuffled"/></block></block></list></block></block></script></block-definition><block-definition s="object %&apos;fields&apos;" type="reporter" category="lists" space="true"><header></header><code></code><translations>de:Objekt _&#xD;ca:objecte _&#xD;</translations><inputs><input type="%group%t%s" irreplaceable="true" expand="$nl&#xD;:" initial="2" min="2">$_field&#xD;$_thing</input></inputs><script><block s="doDeclareVariables"><list><l>data</l></list></block><block s="doSetVar"><l>data</l><block s="reportNewList"><list></list></block></block><block s="doWarp"><script><block s="doForEach"><l>assoc</l><block var="fields"/><script><block s="doReplaceInList"><block s="reportListItem"><l>1</l><block var="assoc"/></block><block var="data"/><block s="reportListItem"><l>2</l><block var="assoc"/></block></block><block s="doTellTo"><block s="reportEnvironment"><l><option>caller</option></l></block><block s="reifyScript"><script><block s="doSetVar"><l></l><l></l></block></script><list></list></block><list><block s="reportListItem"><l>1</l><block var="assoc"/></block><block s="reportListItem"><block s="reportListItem"><l>1</l><block var="assoc"/></block><block var="data"/></block></list></block></script></block></script></block><block s="doReport"><block var="data"/></block></script></block-definition><block-definition s="clone %&apos;parent&apos; %&apos;fields&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:klone _ _&#xD;ca:clon _ _&#xD;</translations><inputs><input type="%l" initial="1"></input><input type="%group%upvar%s" irreplaceable="true" expand="$nl&#xD;:">$_field&#xD;$_thing</input></inputs><script><block s="doDeclareVariables"><list><l>data</l></list></block><block s="doSetVar"><l>data</l><custom-block s="object %group%t%s"><list><l>...</l><block var="parent"/></list></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportListIsEmpty"><block var="fields"/></block></block><script><block s="doWarp"><script><block s="doForEach"><l>assoc</l><block var="fields"/><script><block s="doReplaceInList"><block s="reportListItem"><l>1</l><block var="assoc"/></block><block var="data"/><block s="reportListItem"><l>2</l><block var="assoc"/></block></block><block s="doTellTo"><block s="reportEnvironment"><l><option>caller</option></l></block><block s="reifyScript"><script><block s="doSetVar"><l></l><l></l></block></script><list></list></block><list><block s="reportListItem"><l>1</l><block var="assoc"/></block><block s="reportListItem"><block s="reportListItem"><l>1</l><block var="assoc"/></block><block var="data"/></block></list></block></script></block></script></block></script><list></list></block><block s="doReport"><block var="data"/></block></script></block-definition><block-definition s="blockify %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:blockifiziere _&#xD;</translations><inputs><input type="%l" initial="1"></input></inputs><script><block s="doReport"><block s="reportIfElse"><block s="reportIsA"><block var="data"/><l><option>list</option></l></block><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block s="reportNewList"><list></list></block></autolambda><list></list></block><block s="reportCONS"><block s="reportListAttribute"><l><option>length</option></l><block var="data"/></block><block s="reportMap"><block s="reportEnvironment"><l><option>script</option></l></block><block var="data"/></block></block></list></block><block s="reportIfElse"><block s="reportIsA"><block var="data"/><l><option>Boolean</option></l></block><block s="reportJoinWords"><list><block s="reifyPredicate"><autolambda><block s="reportBoolean"><l><bool>true</bool></l></block></autolambda><list></list></block><block var="data"/></list></block><block s="reportIfElse"><block s="reportIsA"><block var="data"/><l><option>script</option></l></block><block s="reportJoinWords"><list><block s="reifyReporter"><autolambda><block s="reifyReporter"><script></script><list></list></block></autolambda><list></list></block><block var="data"/></list></block><block var="data"/></block></block></block></block></script></block-definition><block-definition s="classifier for %&apos;data&apos; %&apos;options&apos;" type="reporter" category="Neural Networks" helper="true"><header></header><code></code><translations></translations><inputs><input type="%l" initial="1"></input><input type="%mult%n" expand="epochs&#xD;partition&#xD;hidden layers&#xD;:&#xD;:&#xD;:&#xD;:&#xD;:&#xD;:&#xD;:&#xD;" max="10">0&#xD;0.8&#xD;5</input></inputs><script><block s="doDeclareVariables"><list><l>ai</l><l>training</l><l>validation</l><l>last</l><l>avg</l><l>done</l><l>epochs</l><l>log</l><l>scale</l><l>trails</l><l>cst</l><l>cycles</l><l>partition</l><l>topology</l></list></block><block s="doSetVar"><l>cycles</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>1</l><block var="options"/></block><l><option>number</option></l></block><block s="reportListItem"><l>1</l><block var="options"/></block><l>0</l></block></block><block s="doSetVar"><l>partition</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>2</l><block var="options"/></block><l><option>number</option></l></block><block s="reportListItem"><l>2</l><block var="options"/></block><l>0.8</l></block></block><block s="doRun"><block s="reifyScript"><script><block s="doSetVar"><l>training</l><l></l></block><block s="doSetVar"><l>validation</l><l></l></block></script><list></list></block><custom-block s="partition %l by %n"><block var="data"/><block var="partition"/></custom-block></block><block s="doSetVar"><l>topology</l><block s="evaluate"><block s="reifyReporter"><autolambda><block s="reportConcatenatedLists"><list><block s="reportDifference"><l></l><l>1</l></block><block s="reportIfElse"><block s="reportVariadicGreaterThan"><list><block s="reportListAttribute"><l><option>length</option></l><block var="options"/></block><l>2</l></list></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>3</l><block var="options"/></block><l>0</l></list></block><block s="reportNewList"><list></list></block><block s="reportListItem"><block s="reportNumbers"><l>3</l><block s="reportListAttribute"><l><option>length</option></l><block var="options"/></block></block><block var="options"/></block></block><block s="reportVariadicMax"><list><block s="reportRound"><block s="reportVariadicProduct"><list><l></l><l>.2</l></list></block></block><l>5</l></list></block></block><block s="reportNewList"><list><l>1</l></list></block></list></block></autolambda><list></list></block><list><block s="reportListAttribute"><l><option>length</option></l><block s="reportListAttribute"><l><option>columns</option></l><block var="training"/></block></block></list></block></block><block s="doSetVar"><l>ai</l><custom-block s="new neural network %mult%n"><block var="topology"/></custom-block></block><block s="doSetVar"><l>epochs</l><l>0</l></block><block s="doSetVar"><l>done</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doSetVar"><l>last</l><block s="reportListAttribute"><l><option>length</option></l><block var="training"/></block></block><block s="doSetVar"><l>log</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>scale</l><block s="reportVariadicMin"><list><l>1</l><block s="reportQuotient"><l>10</l><block s="reportVariadicMax"><block var="topology"/></block></block></list></block></block><block s="doSetVar"><l>trails</l><block s="reportPenTrailsAsCostume"></block></block><block s="doSetVar"><l>cst</l><block s="reportGet"><l><option>costume</option></l></block></block><block s="doUntil"><block var="done"/><script><block s="doChangeVar"><l>epochs</l><l>1</l></block><block s="doAddToList"><block s="reportQuotient"><block s="reportVariadicSum"><custom-block s="%s network %s on %l"><l><option>train</option></l><block var="ai"/><block var="training"/></custom-block></block><block s="reportListAttribute"><l><option>length</option></l><block var="training"/></block></block><block var="log"/></block><block s="doSetVar"><l>done</l><block s="reportVariadicAnd"><list><block s="reportMouseDown"></block><block s="reportVariadicAnd"><block s="reportVariadicLessThan"><list><block s="reportMonadic"><l><option>abs</option></l><block s="reportMousePosition"></block></block><block s="reportNewList"><list><l>50</l><l>50</l></list></block></list></block></block></list></block></block><block s="doIfElse"><block s="reportVariadicEquals"><list><block var="cycles"/><l>0</l></list></block><script><block s="doIf"><block s="reportVariadicGreaterThan"><list><block var="epochs"/><l>20</l></list></block><script><block s="doSetVar"><l>avg</l><block s="reportVariadicSum"><block s="reportQuotient"><block s="reportListItem"><block s="reportNumbers"><block s="reportListAttribute"><l><option>length</option></l><block var="log"/></block><block s="reportDifference"><block s="reportListAttribute"><l><option>length</option></l><block var="log"/></block><l>19</l></block></block><block var="log"/></block><l>10</l></block></block></block><block s="doSetVar"><l>done</l><block s="reportVariadicOr"><list><block s="reportVariadicLessThan"><list><block s="reportDifference"><block var="last"/><block var="avg"/></block><l>0.0005</l></list></block><block var="done"/></list></block></block><block s="doSetVar"><l>last</l><block var="avg"/></block></script><list></list></block></script><script><block s="doSetVar"><l>done</l><block s="reportVariadicOr"><list><block s="reportVariadicGreaterThanOrEquals"><list><block var="epochs"/><block var="cycles"/></list></block><block var="done"/></list></block></block></script></block><custom-block s="plot bars %l %group%n%b%b"><block s="reportVariadicProduct"><list><block var="log"/><block s="reportAttributeOf"><l><option>height</option></l><block s="reportGet"><l><option>stage</option></l></block></block></list></block><list></list></custom-block><custom-block s="render neural model %l %group%n%b%clr"><custom-block s="%s of network %s"><l><option>get model</option></l><block var="ai"/></custom-block><list><block var="scale"/><l><bool>false</bool></l></list></custom-block></script></block><block s="clear"></block><block s="doSwitchToCostume"><block var="trails"/></block><block s="doStamp"></block><block s="doSwitchToCostume"><block var="cst"/></block><block s="doReport"><block s="reportNewList"><list><block var="ai"/><custom-block s="%s network %s on %l"><l><option>validate</option></l><block var="ai"/><block s="reportIfElse"><block s="reportListIsEmpty"><block var="validation"/></block><block var="training"/><block var="validation"/></block></custom-block></list></block></block></script></block-definition><block-definition s="%&apos;selector&apos; of network %&apos;network&apos; to %&apos;data&apos;" type="command" category="Neural Networks"><comment x="0" y="0" w="131.0000000000001" collapsed="false">Assign a pre-trained model to the given neural network or change its learning rate.</comment><header></header><code></code><translations>de:_ von Netzwerk _ auf _&#xD;ca:_ de la xarxa _ a _&#xD;</translations><inputs><input type="%s" readonly="true" irreplaceable="true" initial="1">$_set model<options>set model=$_set model&#xD;set learning rate=$_set learning rate</options></input><input type="%s" readonly="true" initial="1"></input><input type="%n" initial="1"></input></inputs><script><block s="doRun"><block s="reportListItem"><block var="selector"/><block var="network"/></block><list><block var="data"/></list></block></script></block-definition><variables><variable name="_Neural Network_" hidden="true"><l></l></variable><variable name="_Layer_" hidden="true"><l></l></variable></variables></blocks>