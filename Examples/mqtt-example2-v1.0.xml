<project name="mqtt-test" app="Snap! 5.0, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><stage name="ScÃ¨ne" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" volume="100" pan="0" lines="round" ternary="false" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Lutin" idx="1" x="-20" y="-40" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="2" color="80,80,80,1" pen="tip" id="8"><costumes><list id="9"><item><costume name="on" center-x="52" center-y="52" image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAJUElEQVR4Xu2dfYxcVRnGf+8Mu+3SnZlSsVo+lLbGVhLiB1BqQrQFaWg0Uv6wSkBoE9aZLYkFYiL7T11MlNZEBT+6M61a1DYxtQaMVDGhrUYTwdLE+BFaSLFECRWRMne2X/txX3NmdujudrZz751778zsnvlz5j3P+5znmXPvueeeD6HdPoXMYkTfj7IElXeDpoBukBRod6U6MghaQiihMojocYQjqLxItni0naosLU12YPZVJDtuQmUlcB3I0nD46mHgeVT3o8MH6D1zLBzc8FFay6DtXVcw2rECkZtQViJcFX6VayAqxxD24+p+3NF93HfyeCx5PSRpvkGF1KW43I7IGuBmRGZ54B1diOpZhGdQfQLVX9E7+Hp0yeojN8+gwpxrIPkQ8FmQZH2qzYjQUZSfIaNbyJ78WzMYxG9QIXUjyEMgn2xGhYPn1L2gm8mW/hgcw3/J+AzaPnsho51bEbnVP80WKqH6NMmhDfSc+WccrKI36IekGE71gTzY9PtLWIqW71P6TSh9jSynwoKthROdQYpQSK1D5BGQd0VZiaZhK/9C+RK54s8RNAoe0Ri0NXMJSd0FsjoK0i2HqexhtLie+xgMm1v4Bm1LX4/KHuA9YZNtaTzVl0hwJ19wDobJM1yD8umNCN8A6QyTZPtg6VDlkud8NyzO4RmUz2xD6AmLWHvj6ABZZ0MYdWjcoN0kOZHeCfK5MAhNGwzVXcxz7mEto43UqTGDdtPJm+lfIPKpRkhM27Kqv2Ses5a1DAWtY3CDClwMmacAM9JsP1MpoOxDip8O+rwUzKDyM056FyJ3WGe8KKA7yTqf9xI5OSaYQfn0o4hsDJJwxpZRtpArmsFhXx//BhUyJskjvrLY4KoCfWSLm/3I4c+gge4VJJIH/CSwseMUUHVJurfQM7jfqy7eDRronk8i8ddpO67mVbFG41SPkxz9ED0n/+MFyptBplOwLbPP9ti8SOohxvTsssVbvAywejOokO4H+YqH1DbEswL6MFmnv154fYO2Z67F1eda97V0vSq26u/mdbosJ1d8/kIM6xuUTx9E5LpWrWZ789KDZJ1lwQ0aSK0jkdjR3iK0OHvXXU9v6fGpWE7dgr6Xegcdchjk0havYpvT0zcYcRZO9bJvaoPymc0IX27z2rcH/QuMMtQ2qEAGMmY67Nz2qGGbs1ROMKu4iPW8NbkmUxhku9XxW167232+Qbb1xO+NyVhpRZexnjPjCdQwyA6GNsehsksPkHUerWfQy8DC5pGcwZmVl8kVF09tkB2tbv6/wx1dSe/g76pEJl7iCunHQe5pPsuZzMAtkC3lzjeon4tYkDHdvDkzWZ6m1131dY47l9PPiOFyrgUVUmsg8UTTCVoCgHs72dKTkwyyl7fW+W/oj8k66yYZVB45eG/rkJzRTF4hWyyvz61c4sxq6sSsWBYkzWjZ/VR+ZGSBWcw8ZpB9reBHu3hiK/ehikG2ex2P5n6yqD5Gzrm/YlA+8xeED/opb2OjVkCfI+ssH2tB5eefTNQpLb4vBYpki3OFHcxlKHPCV1EbHI8CncVLhO3p5bjyp3gy2iy+FJCRDwt2YogvzWINFr1DsJPhY9XcXzJ9wKzzsbNG/akWZ3SfYGfvxCm4v1zKFrMbSB4SWX8lbXQsCqg+Zi5x9iVdLGoHSeIWbAsKoltsZYxB9h4Um9y+E1XuQbYX51u4+Ar02eeg+MQOkMk8B+UzOYSBAKVtkagVUHpNJ8FOFola6KD4qquNQUsh8UJQDFsuQgXcswuFfhIsSA/ZNagRCh0IWkd5zekce6OaPozIkkA4tlA0CqgeIecsrRr0JCK3RZPJogZSwGxllnPWVCeN2BHtQCpGWaiyoGts2pXdgydKqQNhj61yqBj0HWYxK/0WyOxAYLZQuAqYjdPnOWmzU+O4yfMZsybl4+FmsmiBFFD9LTmnfITCOIPsmFwgMSMpdG4p5PjlJ/aBNRKx/YKq4g4tqp4KNnGFnZ1h6lfNCOIrM0qrwJOXQN4P8u0IslpIzwpMXOk90aAfdb+T4cSrIB2e8WxgiAroMOhlZEtv1G5B5tt82o4qhCi5L6ix0YPxZc7fyMJOBfalaajBCf0oPc6zFzbI/Fqwz0ShCu8N7Pdkiysmh9beTCmfvhWR33jDtVGhKDBpA4up70HVX+xWmKHo7g1kYte6/iWu0lmwrcibuo1Hqa4m5zxdC+jCm8raHl3j4tdDqNFz89aCTNT3u64k2fHStDles55Y8f9eIjF0NT2n/z1V6vrbMtuJjVHaVvewDQ8G0QHpP4DcECXTGYet+mfEuZEswxeqe32DTOnKTiR/tzthhfY3OkXy7NXce+aVeojeDCqbZHcjqSem59/rbGbuvZMwOaNdS+TZg6kDz+1k5QXMewsyaDuYzdn0AUTefl/hJYmNGVPA3HeGnI/xRc561cSfQQa1cmTAsyDv85rExhkF9ChJlnGv86YfPfwbZNALmcWgxiR7roMXtVX/hyvL2FA0Oyr7+gQzqGxS+gZUDiB0+co484JLiN4c9BD24AaVTUqtQcWcRJyYebp7qLHqCOKuIjsY+GDGxgwyHLelr8flKUTme6A8g0L0vyRkNT3FQ41UunGDqvckxVzurmyEzPQpq0cZlVVB7jmTNQjHIIO6vesK3M5fA9dMH6GD1ET/Abpi/MSPICjVMuEZZBB/whxOp/MgdzVCqn3L6k66nBx3czKsOoRrUJXVQPpORPII3WERbWkcZRDVHL3OrrB5RmOQYbk1s4gEuxGuDZt0S+Eph3BZG8b9pla9ojPIZCufB5HaiCY2IaRbStiGyagZEdjEa06hes5Cw5A1AKI16O1LnjkHXL6KSk/bPzOZA9NFfkBS+/wO2wQxMB6Dqsy2ppaQlIdRPtN2RhljYA+ubmJD6UgQsYOUidegiUb1AXe1/vJ/c6Qzu3D163EaE0032+9fZPvshbid5hD3FjRqzJjkUD89Z5p2rkVzWtBkI3fTyYnMbajeDZj5eBf59TqceB1CZS8J96fMLe01a0TDwQ2O0hoGjec/0D0fSaxCZCXKTQjlY1oi+yjHEA6guh9X9rKh2FKbvLeeQZOdKE9Y6fgEyEfQ8m4oSxAuD2SY8ipwBPRFRA/hDj9TXWoYCC+GQq1vUC0RvkUXcy7+AG7C27NVwnU4eeoFHuR0DJqGmuL/Se6zx8K+v8YAAAAASUVORK5CYII=" id="10"/></item><item><costume name="off" center-x="52" center-y="52" image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAFn0lEQVR4Xu2dS29bRRTH/+4jtYkfKqU8pFZK0gXsIbAe+AKsukStVBOaSiyQ6hJc0VDkWjWIBYJUaQRULLPhGzBbVGAPErSFsuAlwI8Q82iLruEax7n2nZk7d+6x7/HWM+f85/zmzJ25j5kMJugn53DPhlxxCxkbdlzYIC3UFpCwQFIGRgvQRu6IrG3fDgtonP+Ls7OP4MzW93H60LGdPKD1wgOy3v5JR7SrsuJc/iGc7vzoyl+Qn8QAuRq+bAU3qWHQOaBJAzMM2DUod4A2svOy1r1hq0cnaUdUswsod2+60BA/oPdQkK+j5aIxrn2IFcxiCb/H6Tc+QPeQkfO4G6d4KrbFTexBxs4abbhN8QBaKx2UjeYvVALoQoc4iwLOoGPbl31AV4uL8lLrum2hk2BPvFJ8Es+3PrWp1SqgSZ+h2QqszZmeNUAMZydeW5CiA9rEXlnB37Z63zTZEQ3sw3HcidKmaIA2MSMr+COKgGmvKxo4gOP407Sd5oDWcZ+sY8vUcZrqRVkvmQFK0RrHVkcyvSYZAeIJgRk2E0jagBiOGRy/li4kLUAMJxocr7ao5p9BufOxqiV1QFfyD8rLnR9UDXO50REQ1dmHUd5SiqUaIJ4UWO9vqjdYlQDx0GadT8+gyvUoHNBG6XFZa34Wj8R0WxUvlxbxwvjYhgLi7Im3E4Vl0VhADCdeOCpT79GA3ikckm+2f3YjMd1exj3sGwmIs8dtpxk11AUDWkdJ1vGbW4np9iYu4CBO7o55ICDOnmQ6S1AW7QbE2ZMMHW9ddAE5nER3UMAuQJw9ifEJXLwyoGR57PI+PMztAMTZQ4PWICQGRIPJDhXBgFaxT17DXwT1pk6SOIH9WP33Tal+BvHwRqsf+FnEgGhx6athQETBDN9A7WUQD280aXlZxIBosukvWhkQAyIcAeLSeIibBEA8QaBNKcOAGBDtCBBXxxnEgIhHgLg8ziAGRDwCxOVxBjEg4hEgLo8ziAERjwBxeZxBDIh4BIjL4wxiQMQjQFxeBqvYI69F25GJeBsnVp44gb38yJswPn6iShiOJ40BMSDiESAur59BeBsH5Fs7v+wirn3q5fk7NfK72URR87vZRMH4shgQYUDiXHYep7u3PIn8hR1BUPwJJEEog5JGAsL7+cPyYrJHghGPXezyxErhMJb+3yOJP8OPPeR6DsZ+hu+Z4leB9QJqu3QoIIZkO+Tq9tT26uEsUo+o5ZLKgDiLLEdewZzefnGcRQohtVtEGxBnkV0A46yN21h2/K6/7+aOyje2v3UnNX2eRDV3FOXt70a1nLdlTrhPRNqWuad9Hftl3fwEqYTbT9q9WMEMlsZvYBWaQb0WXsnOyctujkYmHVGL4sT57BxOdb8JM6kGiGd1YXHU/j9saPMNKgPiWZ02g5EVVOF4BrQA4QNk5WvYtic1fZbES8jiRfWTM/UAefHkIwOMe5U4XzyEUy2tM871AfVmdqVjst78ylhpCiuKSukYlps3dJtuBqgHqfiUrLc+0XWYxvJRDmE3B9SDVHhW1tsfpTHoqm0WK/mnsdSRquWHy0UD5Fm7WlyUl1rXTQVMcz1RLT2BcvPzKG2MDoivSYHxN73m2M8g3+JG7oisbd+O0lumpe7wix9R2mUng3wFH2JWvopOFEGTXldcRB7P2TuE3i6g/6Kb1hdPdO4QqHbEWAD1nK+VFmSj+bWqkEkuZ+t6ExSD+AB53lJwHsTgOQtxdLJ4AfmKp/AccJPbNiYA3QDyla0VHpWN9hcmQqnUEZXCY1huf+lKj1tAEwzKNRg/VMkA6q+dsvOy1tW+geiq93p+RDW7gHJyT5OTBeRHehMzsqL+jMQFIP8bURe+xvmgAWhQYYITClEp3Y/l5q9JQxn0Tw/QUHTiXvTGsbi0CZg8oKDGmkKjDiOorf8AsEWo/OAwJEgAAAAASUVORK5CYII=" id="11"/></item></list></costumes><sounds><list struct="atomic" id="12"></list></sounds><blocks></blocks><variables></variables><scripts><script x="15" y="10"><block s="receiveGo"></block><custom-block s="# %code"><l>Load library</l></custom-block><custom-block s="Load MQTT $flag"></custom-block><block s="doSetVar"><l>got message</l><l>0</l></block><custom-block s="# %code"><l>Instansiate a MQTT client - change the broker address with your address&#xD;Codimeo MQTT broker is offered with no warranty of service and can be&#xD;down at any time</l></custom-block><block s="doSetVar"><l>Client</l><custom-block s="MQTT new client for broker %s with options %s"><l>wss://mqtt.codimeo.com:15676/ws</l><custom-block s="JSON from %l"><block s="reportNewList"><list><block s="reportNewList"><list><l>username</l><l>mqtt-test</l></list></block><block s="reportNewList"><list><l>password</l><l>mqtt-test</l></list></block></list></block></custom-block></custom-block></block><custom-block s="# %code"><l>Connect the client</l></custom-block><custom-block s="Connect %s"><block var="Client"/></custom-block><custom-block s="# %code"><l>Handle events</l></custom-block><block s="doWaitUntil"><custom-block s="%s is connected ?"><block var="Client"/></custom-block></block><block s="doIf"><custom-block s="%s is connected ?"><block var="Client"/></custom-block><script><custom-block s="on %s %txt %cs with %upvar %upvar %upvar"><block var="Client"/><l>message</l><script><block s="doSetVar"><l>T</l><block var="topic"/></block><block s="doSetVar"><l>M</l><block s="evaluate"><block s="reportJSFunction"><list><l>message</l></list><l>return message.toString()</l></block><list><block var="message"/></list></block></block><block s="doSetVar"><l>P</l><custom-block s="listify %s"><block s="evaluate"><block s="reportJSFunction"><list><l>p</l></list><l>return JSON.stringify(p)</l></block><list><block var="payload"/></list></block></custom-block></block><block s="doSetVar"><l>got message</l><l>1</l></block></script><l>topic</l><l>message</l><l>payload</l></custom-block><custom-block s="on %s %txt %cs with %upvar %upvar %upvar"><block var="Client"/><l>error</l><script><block s="doRun"><block s="reportJSFunction"><list><l>error</l></list><l>console.log(error);</l></block><list><block var="error"/></list></block></script><l>error</l><l>arg2</l><l>arg3</l></custom-block><custom-block s="on %s %txt %cs with %upvar %upvar %upvar"><block var="Client"/><l>reconnect</l><script><block s="doRun"><block s="reportJSFunction"><list></list><l>console.log("reconnection...");</l></block><list></list></block></script><l>arg1</l><l>arg2</l><l>arg3</l></custom-block><custom-block s="on %s %txt %cs with %upvar %upvar %upvar"><block var="Client"/><l>offline</l><script><block s="doRun"><block s="reportJSFunction"><list></list><l>console.log("client offline...");</l></block><list></list></block></script><l>arg1</l><l>arg2</l><l>arg3</l></custom-block><custom-block s="# %code"><l>Subscribe to the desired topic</l></custom-block><custom-block s="Subscribe %s to %s"><block var="Client"/><l>Hello</l></custom-block></script></block></script><script x="548" y="30.800001000000066"><block s="receiveKey"><l><option>right arrow</option></l></block><custom-block s="Publish %s on %txt for %s"><l>right</l><l>Hello</l><block var="Client"/></custom-block></script><script x="550" y="218.80000100000007"><block s="receiveKey"><l><option>up arrow</option></l></block><custom-block s="Publish %s on %txt for %s"><l>up</l><l>Hello</l><block var="Client"/></custom-block></script><script x="556" y="305.80000100000007"><block s="receiveKey"><l><option>down arrow</option></l></block><custom-block s="Publish %s on %txt for %s"><l>down</l><l>Hello</l><block var="Client"/></custom-block></script><script x="563" y="399"><block s="receiveCondition"><block s="reportEquals"><block var="got message"/><l>1</l></block></block><custom-block s="# %code"><l>When message received, execute it</l></custom-block><block s="doIf"><block s="reportEquals"><block var="M"/><l>right</l></block><script><block s="changeXPosition"><l>10</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="M"/><l>left</l></block><script><block s="changeXPosition"><l>-10</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="M"/><l>up</l></block><script><block s="changeYPosition"><l>10</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="M"/><l>down</l></block><script><block s="changeYPosition"><l>-10</l></block></script></block><block s="doSetVar"><l>got message</l><l>0</l></block></script><script x="802" y="39"><block s="receiveCondition"><custom-block s="%s is connected ?"><block var="Client"/></custom-block></block><block s="doSwitchToCostume"><l>on</l></block></script><script x="803" y="122"><block s="receiveCondition"><block s="reportNot"><custom-block s="%s is connected ?"><block var="Client"/></custom-block></block></block><block s="doSwitchToCostume"><l>off</l></block></script><script x="805" y="220"><custom-block s="End %s with force %b"><block var="Client"/><l/></custom-block></script><script x="549" y="123.80000100000018"><block s="receiveKey"><l><option>left arrow</option></l></block><custom-block s="Publish %s on %txt for %s"><l>left</l><l>Hello</l><block var="Client"/></custom-block></script></scripts></sprite><watcher var="T" style="normal" x="12" y="39.99999799999978" color="243,118,29" hidden="true"/><watcher var="M" style="normal" x="8" y="67.99999799999978" color="243,118,29" hidden="true"/><watcher var="P" style="normal" x="11" y="107.99999799999978" color="243,118,29" hidden="true"/><watcher var="Client" style="normal" x="0" y="0" color="243,118,29" hidden="true"/><watcher var="got message" style="normal" x="10" y="10" color="243,118,29" hidden="true"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Load MQTT $flag" type="command" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIf"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return window.mqtt !== undefined</l></block><list></list></block><script><block s="doStopThis"><l><option>this block</option></l></block></script></block><block s="doDeclareVariables"><list><l>test</l></list></block><block s="doSetVar"><l>test</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>var mqttScript,&#xD;    done = false;&#xD;mqttScript = document.createElement(&apos;script&apos;),&#xD;mqttScript.onload = function () {&#xD;    done = true;&#xD;    console.log(&apos;MQTT is ready&apos;);&#xD;};&#xD;document.head.appendChild(mqttScript);&#xD;mqttScript.src = &apos;https://unpkg.com/mqtt/dist/mqtt.min.js&apos;;&#xD;return function () {return done; }</l></block><list></list></block></block><block s="doWaitUntil"><block s="evaluate"><block var="test"/><list></list></block></block></script></block-definition><block-definition s="MQTT new client for broker %&apos;url&apos; with options %&apos;opt&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s">broker<options>moquitto (ws)=ws://test.mosquitto.org:8080/mqtt&#xD;mosca (ws)=ws://test.mosca.io/&#xD;hivemq (ws)=ws://broker.hivemq.com:8000&#xD;mosca-localhost (ws)=ws://localhost:3000&#xD;codimeo MQTT ={&#xD;  ws=ws://mqtt.codimeo.com:15675/ws&#xD;  wss=wss://mqtt.codimeo.com:15676/ws&#xD;}</options></input><input type="%s"></input></inputs><script><block s="doDeclareVariables"><list><l>client</l><l>broker</l><l>options</l></list><comment w="90" collapsed="false">Class attributes</comment></block><block s="doSetVar"><l>broker</l><block var="url"/></block><block s="doSetVar"><l>client</l><l>null</l></block><block s="doSetVar"><l>options</l><block var="opt"/></block><block s="doDeclareVariables"><list><l>connect</l><l>onevent</l><l>subscribe</l><l>unsubscribe</l><l>publish</l><l>is_connected</l><l>log_client</l><l>log_parent_sprite</l><l>end</l></list><comment w="90" collapsed="false">Class methods</comment></block><block s="doSetVar"><l>connect</l><block s="reifyScript"><script><block s="doIfElse"><block s="reportEquals"><block var="client"/><l>null</l></block><script><block s="doSetVar"><l>client</l><block s="evaluate"><block s="reportJSFunction"><list><l>broker</l><l>client</l><l>options</l></list><l>console.log("Client is null")&#xD;console.log("Options : ")&#xD;console.log(JSON.stringify(options))&#xD;&#xD;if(!world.mqttClients) {&#xD;  world.mqttClients = []&#xD;}&#xD;&#xD;for(var i=0; i &lt; world.mqttClients.length; i++) {&#xD;  //First, ensure that all mqtt Clients are ended.&#xD;  //Otherwise, opended websocket will continue pinging&#xD;  world.mqttClients[i].end()&#xD;}&#xD;&#xD;// Then purge the clients&apos; list&#xD;world.mqttClients.splice(0)&#xD;&#xD;client = mqtt.connect(broker, options)&#xD;console.log("Created new client")&#xD;console.log(client.options.clientId)&#xD;&#xD;client.parent = this&#xD;options = client.options&#xD;&#xD;world.mqttClients.push(client)&#xD;return client</l></block><list><block var="broker"/><block var="client"/><block var="options"/></list></block></block></script><script><block s="doSetVar"><l>client</l><block s="evaluate"><block s="reportJSFunction"><list><l>broker</l><l>client</l><l>options</l></list><l>if(client.connected) {&#xD;  console.log("Client is connected yet")&#xD;  return&#xD;}&#xD;client = mqtt.connect(broker, options)&#xD;console.log("Created new client")&#xD;console.log(client.options.clientId)&#xD;return client</l></block><list><block var="broker"/><block var="client"/><block var="options"/></list></block></block></script></block></script><list></list></block></block><block s="doSetVar"><l>onevent</l><block s="reifyScript"><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>message</l><l>callback</l></list><l>client.on(message, function (t,m,p) {&#xD;  console.log("This client :" + this)&#xD;  console.log("Client&apos;s parent :" + this.parent)&#xD;  invoke(callback, new List([t, m, p]))&#xD;})</l></block><list><block var="client"/><block var="message"/><block var="callback"/></list></block></script><list><l>message</l><l>callback</l></list></block></block><block s="doSetVar"><l>subscribe</l><block s="reifyScript"><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>topic</l></list><l>client.subscribe(topic)&#xD;console.log("Subscribed to " + topic)</l></block><list><block var="client"/><block var="topic"/></list></block></script><list><l>topic</l></list></block></block><block s="doSetVar"><l>unsubscribe</l><block s="reifyScript"><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>topic</l></list><l>client.unsubscribe(topic)</l></block><list><block var="client"/><block var="topic"/></list></block></script><list><l>topic</l></list></block></block><block s="doSetVar"><l>publish</l><block s="reifyScript"><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>topic</l><l>message</l></list><l>client.publish(topic, message.toString(), function(err){&#xD;  if (err) {&#xD;    console.log("err : " + err)&#xD;  }&#xD;  else {&#xD;    console.log("Publish succeeded")&#xD;  }&#xD;})</l></block><list><block var="client"/><block var="topic"/><block var="message"/></list></block></script><list><l>topic</l><l>message</l></list></block></block><block s="doSetVar"><l>is_connected</l><block s="reifyScript"><script><block s="doIfElse"><block s="reportEquals"><block var="client"/><l>null</l></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>client</l></list><l>return client.connected</l></block><list><block var="client"/></list></block></block></script></block></script><list></list></block></block><block s="doSetVar"><l>log_client</l><block s="reifyScript"><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l></list><l>console.log(client)</l></block><list><block var="client"/></list></block><block s="doReport"><block var="client"/></block></script><list></list></block></block><block s="doSetVar"><l>log_parent_sprite</l><block s="reifyScript"><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l></list><l>console.log(client.parent)</l></block><list><block var="client"/></list></block></script><list></list></block></block><block s="doSetVar"><l>end</l><block s="reifyScript"><script><block s="doIfElse"><block s="reportNot"><block s="reportEquals"><block var="client"/><l>null</l></block></block><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>force</l></list><l>console.log(client.options.clientId + " is disconnecting...")&#xD;client.end(force)&#xD;world.mqttClients.splice(world.mqttClients.findIndex(function(c) {&#xD;  return client.options.clientId === c.options.clientId&#xD;}),1)</l></block><list><block var="client"/><block var="force"/></list></block><block s="doSetVar"><l>client</l><l>null</l></block></script><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l></list><l>console.log("No client connected yet.")</l></block><list><block var="client"/></list></block></script></block></script><list><l>force</l></list></block></block><block s="doReport"><block s="reifyScript"><script><block s="doIf"><block s="reportEquals"><block var="message"/><l>connect</l></block><script><block s="doReport"><block var="connect"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>onevent</l></block><script><block s="doReport"><block var="onevent"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>subscribe</l></block><script><block s="doReport"><block var="subscribe"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>unsubscribe</l></block><script><block s="doReport"><block var="unsubscribe"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>publish</l></block><script><block s="doReport"><block var="publish"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>is_connected</l></block><script><block s="doReport"><block var="is_connected"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>log_client</l></block><script><block s="doReport"><block var="log_client"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>log_parent_sprite</l></block><script><block s="doReport"><block var="log_parent_sprite"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>end</l></block><script><block s="doReport"><block var="end"/></block></script></block><block s="doReport"><block s="reportJoinWords"><list><l></l><block var="message"/></list></block></block></script><list><l>message</l></list></block><comment w="90" collapsed="false">and the main body of the class</comment></block></script><scripts><script x="285" y="3347.0000000000086"><block s="doSetVar"><l>got message</l><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></scripts></block-definition><block-definition s="Connect %&apos;client&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s">mqtt-client</input></inputs><script><block s="doRun"><block s="evaluate"><block var="client"/><list><l>connect</l></list></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block var="client"/><list><l>is_connected</l></list></block></block></script></block-definition><block-definition s="End %&apos;client&apos; with force %&apos;force&apos;" type="command" category="sensing"><comment x="0" y="0" w="156" collapsed="false">End MQTT Client with force True or False. Default : False</comment><header></header><code></code><translations></translations><inputs><input type="%s">mqtt-client</input><input type="%b"></input></inputs><script><block s="doRun"><block s="evaluate"><block var="client"/><list><l>end</l></list></block><list><block var="force"/></list></block><block s="doWaitUntil"><block s="reportNot"><custom-block s="%s is connected ?"><block var="client"/></custom-block></block></block></script></block-definition><block-definition s="Publish %&apos;payload&apos; on %&apos;topic&apos; for %&apos;client&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s">message</input><input type="%txt">topic</input><input type="%s">mqtt-client</input></inputs><script><block s="doRun"><block s="evaluate"><block var="client"/><list><l>publish</l></list></block><list><block var="topic"/><block var="payload"/></list></block></script></block-definition><block-definition s="Subscribe %&apos;client&apos; to %&apos;topic&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s">mqtt client</input><input type="%s">topic</input></inputs><script><block s="doRun"><block s="evaluate"><block var="client"/><list><l>subscribe</l></list></block><list><block var="topic"/></list></block></script></block-definition><block-definition s="%&apos;client&apos; is connected ?" type="predicate" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s">mqtt-client</input></inputs><script><block s="doRun"><block s="evaluate"><block var="client"/><list><l>is_connected</l></list></block><list></list></block></script></block-definition><block-definition s="JSON from %&apos;list&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>a</l><l>item</l><l>index</l></list></block><block s="doSetVar"><l>index</l><l>0</l></block><block s="doSetVar"><l>a</l><l>{</l></block><block s="doRepeat"><block s="reportListLength"><block var="list"/></block><script><block s="doChangeVar"><l>index</l><l>1</l></block><block s="doSetVar"><l>item</l><block s="reportListItem"><block var="index"/><block var="list"/></block></block><block s="doSetVar"><l>a</l><block s="reportJoinWords"><list><block var="a"/><l>"</l><block s="reportListItem"><l>1</l><block var="item"/></block><l>":"</l><block s="reportListItem"><l>2</l><block var="item"/></block><l>",</l></list></block></block></script></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>json</l></list><l>return JSON.parse(json)</l></block><list><block s="reportJoinWords"><list><block var="a"/><l>"end":"" }</l></list></block></list></block></block></script></block-definition><block-definition s="on %&apos;client&apos; %&apos;event&apos; %&apos;do&apos; with %&apos;arg1&apos; %&apos;arg2&apos; %&apos;arg3&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s">mqtt-client</input><input type="%txt">event</input><input type="%cs"></input><input type="%upvar"></input><input type="%upvar"></input><input type="%upvar"></input></inputs><script><block s="doRun"><block s="evaluate"><block var="client"/><list><l>onevent</l></list></block><list><block var="event"/><block s="reifyScript"><script><block s="doSetVar"><l>arg1</l><block var="#1"/></block><block s="doSetVar"><l>arg2</l><block var="#2"/></block><block s="doSetVar"><l>arg3</l><block var="#3"/></block><block s="doRun"><block var="do"/><list></list></block></script><list><l>#1</l><l>#2</l><l>#3</l></list></block></list></block></script><scripts><script x="20" y="295.00000399999993"><block s="doRun"><block s="reportJSFunction"><list><l>a1</l><l>a2</l><l>a3</l></list><l>console.log(this)&#xD;console.log(a1)&#xD;console.log(a2)&#xD;console.log(a3)</l></block><list><block var="arg1"/><block var="arg2"/><block var="arg3"/></list><comment w="207" collapsed="false">Do not remove this block. It may help to debug your callback</comment></block></script></scripts></block-definition><block-definition s="listify %&apos;jsonString&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>jsonString</l></list><l>return listify(JSON.parse(jsonString));&#xD;&#xD;function listify(jsonObject) {&#xD;  if (jsonObject instanceof Array) {&#xD;    return new List(jsonObject.map(function(eachElement) { return listify(eachElement)}));&#xD;  } else if (jsonObject instanceof Object) {&#xD;    return new List(Object.keys(jsonObject).map(function(eachKey) { return new List([eachKey,listify(jsonObject[eachKey])])} ))&#xD;  } else {&#xD;    return jsonObject&#xD;  }&#xD;}</l></block><list><block var="jsonString"/></list></block></block></script></block-definition><block-definition s="# %&apos;comment&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%code">your comment line here</input></inputs></block-definition></blocks><variables><variable name="T"><l>Hello</l></variable><variable name="M"><l>right</l></variable><variable name="P"><list id="878"><item><list struct="atomic" id="879">cmd,publish</list></item><item><list id="880"><item><l>retain</l></item><item><bool>false</bool></item></list></item><item><list struct="atomic" id="881">qos,0</list></item><item><list id="882"><item><l>dup</l></item><item><bool>false</bool></item></list></item><item><list struct="atomic" id="883">length,12</list></item><item><list struct="atomic" id="884">topic,Hello</list></item><item><list id="885"><item><l>payload</l></item><item><list id="886"><item><list struct="atomic" id="887">type,Buffer</list></item><item><list id="888"><item><l>data</l></item><item><list struct="atomic" id="889">114,105,103,104,116</list></item></list></item></list></item></list></item></list></variable><variable name="Client"><context id="890"><inputs><input>message</input></inputs><variables></variables><script><block s="doIf"><block s="reportEquals"><block var="message"/><l>connect</l></block><script><block s="doReport"><block var="connect"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>onevent</l></block><script><block s="doReport"><block var="onevent"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>subscribe</l></block><script><block s="doReport"><block var="subscribe"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>unsubscribe</l></block><script><block s="doReport"><block var="unsubscribe"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>publish</l></block><script><block s="doReport"><block var="publish"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>is_connected</l></block><script><block s="doReport"><block var="is_connected"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>log_client</l></block><script><block s="doReport"><block var="log_client"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>log_parent_sprite</l></block><script><block s="doReport"><block var="log_parent_sprite"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="message"/><l>end</l></block><script><block s="doReport"><block var="end"/></block></script></block><block s="doReport"><block s="reportJoinWords"><list><l></l><block var="message"/></list></block></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><context id="981"><inputs></inputs><variables><variable name="url"><l>wss://mqtt.codimeo.com:15676/ws</l></variable><variable name="opt"></variable><variable name="client"><l>null</l></variable><variable name="broker"><l>wss://mqtt.codimeo.com:15676/ws</l></variable><variable name="options"></variable><variable name="connect"><context id="983"><inputs></inputs><variables></variables><script><block s="doIfElse"><block s="reportEquals"><block var="client"/><l>null</l></block><script><block s="doSetVar"><l>client</l><block s="evaluate"><block s="reportJSFunction"><list><l>broker</l><l>client</l><l>options</l></list><l>console.log("Client is null")&#xD;console.log("Options : ")&#xD;console.log(JSON.stringify(options))&#xD;&#xD;if(!world.mqttClients) {&#xD;  world.mqttClients = []&#xD;}&#xD;&#xD;for(var i=0; i &lt; world.mqttClients.length; i++) {&#xD;  //First, ensure that all mqtt Clients are ended.&#xD;  //Otherwise, opended websocket will continue pinging&#xD;  world.mqttClients[i].end()&#xD;}&#xD;&#xD;// Then purge the clients&apos; list&#xD;world.mqttClients.splice(0)&#xD;&#xD;client = mqtt.connect(broker, options)&#xD;console.log("Created new client")&#xD;console.log(client.options.clientId)&#xD;&#xD;client.parent = this&#xD;options = client.options&#xD;&#xD;world.mqttClients.push(client)&#xD;return client</l></block><list><block var="broker"/><block var="client"/><block var="options"/></list></block></block></script><script><block s="doSetVar"><l>client</l><block s="evaluate"><block s="reportJSFunction"><list><l>broker</l><l>client</l><l>options</l></list><l>if(client.connected) {&#xD;  console.log("Client is connected yet")&#xD;  return&#xD;}&#xD;client = mqtt.connect(broker, options)&#xD;console.log("Created new client")&#xD;console.log(client.options.clientId)&#xD;return client</l></block><list><block var="broker"/><block var="client"/><block var="options"/></list></block></block></script></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="onevent"><context id="1029"><inputs><input>message</input><input>callback</input></inputs><variables></variables><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>message</l><l>callback</l></list><l>client.on(message, function (t,m,p) {&#xD;  console.log("This client :" + this)&#xD;  console.log("Client&apos;s parent :" + this.parent)&#xD;  invoke(callback, new List([t, m, p]))&#xD;})</l></block><list><block var="client"/><block var="message"/><block var="callback"/></list></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="subscribe"><context id="1046"><inputs><input>topic</input></inputs><variables></variables><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>topic</l></list><l>client.subscribe(topic)&#xD;console.log("Subscribed to " + topic)</l></block><list><block var="client"/><block var="topic"/></list></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="unsubscribe"><context id="1061"><inputs><input>topic</input></inputs><variables></variables><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>topic</l></list><l>client.unsubscribe(topic)</l></block><list><block var="client"/><block var="topic"/></list></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="publish"><context id="1076"><inputs><input>topic</input><input>message</input></inputs><variables></variables><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>topic</l><l>message</l></list><l>client.publish(topic, message.toString(), function(err){&#xD;  if (err) {&#xD;    console.log("err : " + err)&#xD;  }&#xD;  else {&#xD;    console.log("Publish succeeded")&#xD;  }&#xD;})</l></block><list><block var="client"/><block var="topic"/><block var="message"/></list></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="is_connected"><context id="1093"><inputs></inputs><variables></variables><script><block s="doIfElse"><block s="reportEquals"><block var="client"/><l>null</l></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>client</l></list><l>return client.connected</l></block><list><block var="client"/></list></block></block></script></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="log_client"><context id="1121"><inputs></inputs><variables></variables><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l></list><l>console.log(client)</l></block><list><block var="client"/></list></block><block s="doReport"><block var="client"/></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="log_parent_sprite"><context id="1136"><inputs></inputs><variables></variables><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l></list><l>console.log(client.parent)</l></block><list><block var="client"/></list></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable><variable name="end"><context id="1149"><inputs><input>force</input></inputs><variables></variables><script><block s="doIfElse"><block s="reportNot"><block s="reportEquals"><block var="client"/><l>null</l></block></block><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l><l>force</l></list><l>console.log(client.options.clientId + " is disconnecting...")&#xD;client.end(force)&#xD;world.mqttClients.splice(world.mqttClients.findIndex(function(c) {&#xD;  return client.options.clientId === c.options.clientId&#xD;}),1)</l></block><list><block var="client"/><block var="force"/></list></block><block s="doSetVar"><l>client</l><l>null</l></block></script><script><block s="doRun"><block s="reportJSFunction"><list><l>client</l></list><l>console.log("No client connected yet.")</l></block><list><block var="client"/></list></block></script></block></script><receiver><ref id="8"></ref></receiver><origin><ref id="8"></ref></origin><ref id="981"></ref></context></variable></variables><receiver><ref id="8"></ref></receiver><origin></origin></context></context></variable><variable name="got message"><l>0</l></variable></variables></project>